<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="bootstrupdemo/css/bootstrap.css"/>
		<link rel="stylesheet" type="text/css" href="css/style-for-spxq.css"/>
		<link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
		<link rel="stylesheet" type="text/css" href="css/public.css"/>
	</head>
	<body>
		<div class="Smtop margin d-flex justify-content-between">
			<div class="Smt-l h-100">
				<ul class="d-flex">
					<li><a href="http://vmall.com">首页</a></li>
					<li><a href="http://vmall.com">华为官网</a></li>
					<li><a href="http://vmall.com">荣耀官网</a></li>
					<li><a href="http://vmall.com">花粉俱乐部</a></li>
					<li><a href="http://vmall.com">帮助中心</a></li>
					<li><a href="http://vmall.com">V码(优购码)</a></li>
					<li><a href="http://vmall.com">企业购</a></li>
					<li><a href="http://vmall.com">Select Region</a></li>
					<li>
						<div class="Smt-dropdown">
							<div class="h"><a href="shopcar.html">更多精彩</a><i class="iconfont icon-ddl-arr"></i></div>
							<div class="b"></div>
						</div>
					</li>
				</ul>
			</div>
			<div class="Smt-r">
				<ul class="d-flex">
					<li><a href="login.html">请登录</a></li>
					<li><a href="register.html">注册</a></li>
					<li><a href="shopcar.html">我的订单</a></li>
					<li><a href="shopcar.html"><i class="mx-2 iconfont icon-gouwuche"></i>购物车</a></li>
				</ul>
			</div>
		</div>
		<header class="bg-white">
			<div class="margin d-flex">
				<div class="h-left d-flex">
					<div class="logo"><a href="shopcar.html"><img src="images/logo20170801113951.png"/></a></div>
					<div class="naver">
						<ul class="d-flex" id="tab">
							<li><a href="shopcar.html">手机</a></li>
							<li><a href="shopcar.html">笔记本&平板</a></li>
							<li><a href="shopcar.html">智能穿戴</a></li>
							<li><a href="shopcar.html">智能家居</a></li>
							<li><a href="shopcar.html">通用配件</a></li>
							<li><a href="shopcar.html">专属配件</a></li>
						</ul>
						<div class="naver-sub">
								<div id="sub0" class="sub-b margin">
									<div class="p-title d-flex">
										<div class="s1 f1">
											<a href="shopcar.html">全部手机></a>
										</div>
										<div class="s2 f1 d-flex">
											<a href="shopcar.html">荣耀</a>
											<a href="shopcar.html">HUAWEI P系列</a>
											<a href="shopcar.html">荣耀畅玩系列</a>
											<a href="shopcar.html">HUAWEI Mate系列</a>
											<a href="shopcar.html">HUAWEI nova系列</a>
											<a href="shopcar.html">HUAWEI 麦芒系列</a>
											<a href="shopcar.html">华为畅玩系列</a>
											<a href="shopcar.html">移动4G+专区</a>
										</div>
									</div>
									<ul class="girdslist d-flex"></ul>
								</div>
								<div id="sub1" class="sub-b">
									<div class="p-title d-flex">
										<div class="s1 f1">
											<a href="shopcar.html">全部手机></a>
										</div>
										<div class="s2 f1 d-flex">
											<a href="shopcar.html">荣耀</a>
											<a href="shopcar.html">HUAWEI P系列</a>
											<a href="shopcar.html">荣耀畅玩系列</a>
											<a href="shopcar.html">HUAWEI Mate系列</a>
											<a href="shopcar.html">HUAWEI nova系列</a>
											<a href="shopcar.html">HUAWEI 麦芒系列</a>
											<a href="shopcar.html">华为畅玩系列</a>
											<a href="shopcar.html">移动4G+专区</a>
										</div>
									</div>
									<ul class="girdslist d-flex"></ul>
								</div>
								<div id="sub2" class="sub-b">
									<div class="p-title d-flex">
										<div class="s1 f1">
											<a href="shopcar.html">全部手机></a>
										</div>
										<div class="s2 f1 d-flex">
											<a href="shopcar.html">荣耀</a>
											<a href="shopcar.html">HUAWEI P系列</a>
											<a href="shopcar.html">荣耀畅玩系列</a>
											<a href="shopcar.html">HUAWEI Mate系列</a>
											<a href="shopcar.html">HUAWEI nova系列</a>
											<a href="shopcar.html">HUAWEI 麦芒系列</a>
											<a href="shopcar.html">华为畅玩系列</a>
											<a href="shopcar.html">移动4G+专区</a>
										</div>
									</div>
									<ul class="girdslist d-flex"></ul>
								</div>
								<div id="sub3" class="sub-b">
									<div class="p-title d-flex">
										<div class="s1 f1">
											<a href="shopcar.html">全部手机></a>
										</div>
										<div class="s2 f1 d-flex">
											<a href="shopcar.html">荣耀</a>
											<a href="shopcar.html">HUAWEI P系列</a>
											<a href="shopcar.html">荣耀畅玩系列</a>
											<a href="shopcar.html">HUAWEI Mate系列</a>
											<a href="shopcar.html">HUAWEI nova系列</a>
											<a href="shopcar.html">HUAWEI 麦芒系列</a>
											<a href="shopcar.html">华为畅玩系列</a>
											<a href="shopcar.html">移动4G+专区</a>
										</div>
									</div>
									<ul class="girdslist d-flex"></ul>
								</div>
								<div id="sub4" class="sub-b">
									<div class="p-title d-flex">
										<div class="s1 f1">
											<a href="shopcar.html">全部手机></a>
										</div>
										<div class="s2 f1 d-flex">
											<a href="shopcar.html">荣耀</a>
											<a href="shopcar.html">HUAWEI P系列</a>
											<a href="shopcar.html">荣耀畅玩系列</a>
											<a href="shopcar.html">HUAWEI Mate系列</a>
											<a href="shopcar.html">HUAWEI nova系列</a>
											<a href="shopcar.html">HUAWEI 麦芒系列</a>
											<a href="shopcar.html">华为畅玩系列</a>
											<a href="shopcar.html">移动4G+专区</a>
										</div>
									</div>
									<ul class="girdslist d-flex"></ul>
								</div>
								<div id="sub5" class="sub-b">
									<div class="p-title d-flex">
										<div class="s1 f1">
											<a href="shopcar.html">全部手机></a>
										</div>
										<div class="s2 f1">
											<a href="shopcar.html">荣耀</a>
											<a href="shopcar.html">HUAWEI P系列</a>
											<a href="shopcar.html">荣耀畅玩系列</a>
											<a href="shopcar.html">HUAWEI Mate系列</a>
											<a href="shopcar.html">HUAWEI nova系列</a>
											<a href="shopcar.html">HUAWEI 麦芒系列</a>
											<a href="shopcar.html">华为畅玩系列</a>
											<a href="shopcar.html">移动4G+专区</a>
										</div>
									</div>
									<ul class="girdslist d-flex"></ul>
								</div>
						</div>
					</div>
				</div>
				<div class="h-right">
					<div class="h-r-search w-100">
						<form action="" method="post">
							<input type="text" name="" id="" value="" placeholder="华为"/>
							<input type="submit" value="提交"/>
						</form>
					</div>
					<div class="h-r-inform">
						<a href="shopcar.html">HUAWEI P20</a>
						<a href="shopcar.html">荣耀10</a>
					</div>
				</div>
			</div>
			<div class="hr-10"></div>
		</header>
		<div class="main">
			<div class="margin">
				<div class="firstpage">
					<a href="" title="首页">首页</a>&nbsp;&nbsp;>&nbsp;&nbsp;
					<a href="" title="手机">手机</a>&nbsp;&nbsp;>&nbsp;&nbsp;
					<a href="" title="荣耀畅玩系列">荣耀畅玩系列</a>&nbsp;&nbsp;>&nbsp;&nbsp;
					<a href="" title="荣耀畅玩7C 全网通标配版 3GB+ 32GB(魅艳版)">荣耀畅玩7C 全网通标配版 3GB+ 32GB(魅艳版)</a>
				</div>
				<div class="hr-10 bg-white"></div>
				<div class="content d-flex">
				<div class="project d-flex flex-column" id="magnifier1">
					<div class="relative" >
						<ul class="page" id="page">
							<img class="active" src="https://res.vmallres.com/pimages//product/6901443218936/428_428_1520998358815mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/2601010007206/428_428_1524541404206mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/2601010009808/428_428_1524541448373mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443189205/428_428_1500952937405mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443211944/428_428_1513560654770mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443218660/428_428_1521287027365mp.jpg"/>
							<span id="s_box"></span>
						</ul>
						<div id="b_box">
			              <img class="active" src="https://res.vmallres.com/pimages//product/6901443218936/428_428_1520998358815mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/2601010007206/428_428_1524541404206mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/2601010009808/428_428_1524541448373mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443189205/428_428_1500952937405mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443211944/428_428_1513560654770mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443218660/428_428_1521287027365mp.jpg"/>
		                </div>
					</div>
					<div class="galllist d-flex justify-content-between">
					<a href="" class="btnleft1"><</a>
						<div class="gallitem">
						<ul class="d-flex btn" id="btn">
							<img class="active" src="https://res.vmallres.com/pimages//product/6901443218936/78_78_1520998358815mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/2601010007206/78_78_1524541404206mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/2601010009808/78_78_1524541448373mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443189205/78_78_1500952937405mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443211944/78_78_1513560654770mp.jpg"/>
							<img src="https://res.vmallres.com/pimages//product/6901443218660/78_78_1521287027365mp.jpg"/>
						</ul>
						</div>
					<a href="" class="btnright1">></a>
					</div>
				</div>
				<div class="magnifier" id="magnifier"></div>
				<div class="product">
					<div class="product-t">
						<div class="title">
							<h1>荣耀畅玩7C 全网通标配版 3GB+32GB（魅焰红）</h1>
							<div class="title-b">
								<span>【购新机送价值百元读书券（活动结束后站内信发放）】</span>
								<span>人脸识别/5.99英寸全面屏/1300万后置双摄/大内存</span>
							</div>
						</div>
						<div class="info d-flex flex-column">
							<div class="info-t">
								<label for="">价格</label>
								<b>￥899.00</b>
							</div>
							<div class="info-b d-flex">
								<label for="">促销</label>
								<div><em>赠送积分</em><span>购买即赠商城积分，积分可抵现~</span></div>
							</div>
						</div>
						<div class="hr-20"></div>
						<div class="d-flex flex-column">
						<div class="say">
							<label for="">服务说明</label>
							<a href="shopcar.html">已满48元已免运费</a><span>|</span><a href="shopcar.html">由华为商城负责发货，并且提供售后服务</a>
						</div>
						<div class="desc">
							<label for="">商品编码</label>
							<a href="shopcar.html">2601010025504</a>
						</div>
						</div>
						<div class="line"></div>
						<div class="hr-20"></div>
						<div class="ipcont">
							<div class="color d-flex ip">
								<label>选则颜色</label>
								<ul class="d-flex">
									<li><a class="h-100 d-flex" href=""><span><img src="https://res.vmallres.com/pimages//product/2601010025501/40_40_1526432943612mp.jpg"/></span>铂光金</a></li>
									<li><a class="h-100 d-flex" href=""><span><img src="https://res.vmallres.com/pimages//product/6901443218912/40_40_1520998608898mp.jpg"/></span>幻夜黑</a></li>
									<li><a class="h-100 d-flex" href=""><span><img src="https://res.vmallres.com/pimages//product/6901443218929/40_40_1520998479950mp.jpg"/></span>极光蓝</a></li>
									<li><a class="h-100 d-flex" href=""><span><img src="https://res.vmallres.com/pimages//product/6901443218936/40_40_1520998358815mp.jpg"/></span>魅焰红</a></li>
								</ul>
							</div>
							<div class="color d-flex">
								<label>选择版本</label>
								<ul class="d-flex">
									<li><a class="active" href=""><span></span>全网通3GB+32GB</a></li>
									<li><a href="shopcar.html"><span></span>全网通 4GB+64GB</a></li>
								</ul>
							</div>
							<div class="color d-flex">
								<label>选择套餐</label>
								<ul class="d-flex">
									<li><a href="shopcar.html"><span></span>官方标配</a></li>
									<li><a class="active" href=""><span></span>套餐二</a></li>
									<li><a href="shopcar.html"><span></span>套餐三</a></li>
									<li><a href="shopcar.html"><span></span>套餐四</a></li>
								</ul>
							</div>
						</div>
						<div class="proservice">
							<div class="color d-flex">
								<label>保障服务</label>
								<ul>
									<li><a href="shopcar.html">可选保障服务</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="product-b d-flex flex-column">
						<div class="prodesc">
							<label for="">已选这商品</label>
							<a href="shopcar.html">魅焰红/全网通 3GB+32GB/官方标配</a>
						</div>
						<div class="operation d-flex">
							<div class="number"><input type="number" /></div>
							<div class="button d-flex">
								<a class="button1 bg-warning" href="shopcar.html">加入购物车</a>
								<a class="button2 bg-danger" href="shopcar.html">立即下单</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="line my-5"></div>
			<div class="btitle">
				<p>
					<a class="active" href="#">商品详情</a>
					
					<a href="shopcar.html">规格参数</a>
					
					<a href="shopcar.html">包装与售后</a>
					
					<a href="shopcar.html">用户评价(1892)</a>
					
				</p>
			</div>
		</div>
	</div>
	<div class="banner1">
	  <img src="https://res.vmallres.com/pimages/detailImg/2018/03/06/201803061527174375132.jpg"/>
	</div>
	<div class="banner2">
		<img src="https://res.vmallres.com/pimages/detailImg/2018/03/06/201803061527179332903.jpg"/>
	</div>
	<div class="foot-in"></div>
	</body>
	<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/doublenav1.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function(){
			$(".foot-in").load("footer.html")
		})
			$(function(){
//			数据加载
			$.ajax({
				type:"get",
				url:"json/index1.json",
				success:function(res){fn(res,0)},
				dataType:"json"
			});
			$.ajax({
				type:"get",
				url:"json/index2.json",
				success:function(res){fn(res,1)},
				dataType:"json"
			});
			$.ajax({
				type:"get",
				url:"json/index3.json",
				success:function(res){fn(res,2)},
				dataType:"json"
			});
			$.ajax({
				type:"get",
				url:"json/index7.json",
				success:function(res){fn(res,3)},
				dataType:"json"
			});
			$.ajax({
				type:"get",
				url:"json/index5.json",
				success:function(res){fn(res,4)},
				dataType:"json"
			});
			$.ajax({
				type:"get",
				url:"json/index6.json",
				success:function(res){fn(res,5)},
				dataType:"json"
			})
		})
		
		function fn(res,sum){
			var str="";		
			for(var i=0; i<7; i++){
			if(i<7){
				str += `<li class="grid-items">
							<a class="">
								<p class="grid-img">
											<img alt="" src="${res[i].url}"/>
								</p>
								<div class="grid-title">${res[i].name}</div>
								<p class="grid-price">${res[i].price}</p>
							</a>
					   </li>`
			}
			$(".girdslist").eq(sum).html(str);
		}
	}		
//			console.log($(".girdslist"))
	function Tab(){
    this.abtn = document.getElementById("btn").children;
    this.apage = document.getElementById("page").children;
    this.init();
}
Tab.prototype.init = function(){
    var a = this;
    for(let i=0;i<this.abtn.length;i++){
        this.abtn[i].onmouseenter = function(){
            a.change(i)
        }
    }
}
Tab.prototype.change = function(index){
    for(var i=0;i<this.abtn.length;i++){
        this.abtn[i].className = "";
        this.apage[i].className = "";
    }
    this.abtn[index].className = "active";
    this.apage[index].className = "active";
}
new Tab();

$(function(){
	$("#page").on("mouseover",function(eve){
		$(this).children().last().css("display","block");
		$(".magnifier").css("display","block").append("<img src='https://res.vmallres.com/pimages//product/6901443218936/428_428_1520998358815mp.jpg'/>")	
	})
	$("#page").on("mouseleave",function(){
		$(this).children().last().css("display","none");
		$(".magnifier").css("display","none")
	})
	
	$("img").on("mousemove",function(eve){
		var e = eve || window.event;
				var l = e.offsetX -$("#s_box").outerWidth()/2;
				var t = e.offsetY - $("#s_box").outerHeight()/2;
//				console.log($("#s_box").outerWidth())
//				console.log(e.offsetX)
				if(l<0){
					l=0;
				}
				if(t<0){
					t=0
				}
				if(l>$("#page").outerWidth()-$("#s_box").outerWidth()){
					l=$("#page").outerWidth()-$("#s_box").outerWidth()
				}
				if(t>$("#page").outerHeight()-$("#s_box").outerHeight()){
					t=$("#page").outerHeight()-$("#s_box").outerHeight()
				}
				
				$("#s_box").css("left", "l");
				$("#s_box").css("top", "t")
				//算出比例
//				console.log(l)
				var biliX = l/($("#page").outerWidth()-$("#s_box").outerWidth());
				var biliY = t/($("#page").outerHeight()-$("#s_box").outerHeight());
				//根据比例，设置大图片的位置
//					console.log(biliX)
				var x =-biliX*($('#magnifier').children().outerWidth()-$('#magnifier').outerWidth())
				var y =-biliY*($('#magnifier').children().outerHeight()-$('#magnifier').outerHeight())
				console.log(x,y)
				$("#magnifier").children("img").css("left","x")
				$("#magnifier").children("img").css("top","y")
				
				//小色块的背景图的位置
				$("#s_box").css("backgroundPosition","-l -t");
				console.log($("#s_box"))
		
	})
})



</script>
</html>
